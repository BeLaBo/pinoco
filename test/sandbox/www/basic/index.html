<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <title tal:content="title | default">Pinoco Test</title>
    </head>
    <body>
        <h1>Hello world</h1>
        <p pal:content-nl2br="title | default">Value of "title" registerd to autolocal would be shown here.</p>
        
        <div metal:use-macro="/_vardump.html/alltests">
        all tests
        </div>
        
        <div tal:define="attr php:1">
        ${attr}
        <div class="hoge" pal:attr="class string:${attr/class}_mod; opt attr/class">hoge
            <div class="fuga" pal:attr="class string:${attr/class}_mod; opt attr/class">fuga
            </div>
        </div>
        ${attr}
        </div>
        
        <p>Sub contents
            <a href="sub/index.html" pal:attr="href url:sub/">sub/</a>
            <a href="sub/index.html" pal:attr="href url:${attr/href}">sub/index.html</a></p>
        <p>Sub contents 2
            <a href="sub2/index.php" tal:attributes="href url:sub2/">sub2/</a>
            <a href="sub2/index.php" tal:attributes="href url:sub2/index.php">sub2/index.php</a></p>
        <p>Smarty renderer
            <a href="smarty/index.tpl" tal:attributes="href url:smarty/">smarty/</a></p>
        <p>Default pages
            <a href="sub/_default.html" tal:attributes="href url:sub/x.html">sub/x.html</a>
            <a href="sub/_default.html" tal:attributes="href url:sub/y.html">sub/y.html</a>
            <a href="noidx/_default/_default.html" tal:attributes="href url:noidx/foo/">noidx/foo/</a>
            <a href="noidx/_default/_default.html" tal:attributes="href url:noidx/foo/index.html">noidx/foo/index.html</a></p>
        <p>Canceling default
            <a href="cancel-default.html" tal:attributes="href url:cancel-default.html">cancel-default.html</a>
            <a href="cancel-default2.html" tal:attributes="href url:cancel-default2.html">cancel-default2.html</a></p>
        <p>
            <a href="logo.jpg">logo image by Pinoco</a><br />
            <a href="x/php-logo.jpg">logo image in _default folder</a>
        </p>
        
        <p>NothigVars: ${this/nothing/foo/bar}</p>
        
        <form>
            <label>foo</label>
            <input type="text" name="foo" value="${this/form/foo/value}" />
            <span tal:condition="this/form/foo/valid">${this/form/foo/message}</span>
            <label>bar</label>
            <input type="text" name="bar" value="${this/form/bar/value}" />
            <span tal:condition="this/form/bar/valid">${this/form/bar/message}</span>
        </form>
        
        <pre>${php:print_r(this.rget('cfg').toArray(), true)}</pre>
        <p>cfg/mail/auther ${php:this.rget('cfg/mail/auther')}</p>
        
        <pre>${php:print_r(this.activity.toArray(), true)}</pre>
    </body>
</html>
